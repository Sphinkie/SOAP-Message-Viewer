\hypertarget{messages_8h_source}{}\doxysection{messages.\+h}
\label{messages_8h_source}\index{E:/source/repos/SOAP-\/Message-\/Viewer/Sources/messages.h@{E:/source/repos/SOAP-\/Message-\/Viewer/Sources/messages.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef MESSAGES\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define MESSAGES\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include <iostream>}      \textcolor{comment}{// pour cout}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{7 \textcolor{preprocessor}{\#include <fstream>}}
\DoxyCodeLine{8 \textcolor{preprocessor}{\#include <stdlib.h>}     \textcolor{comment}{// pour strcpy\_s}}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{keyword}{class }\mbox{\hyperlink{class_messages}{Messages}}}
\DoxyCodeLine{11 \{}
\DoxyCodeLine{12 \textcolor{keyword}{public}:}
\DoxyCodeLine{13     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_messages_1_1_message}{Message}};     \textcolor{comment}{// forward declaration}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15     \textcolor{keyword}{static} \textcolor{keywordtype}{void} \mbox{\hyperlink{class_messages_ac3346f22599c2742e0f9341141327ea8}{init}}(std::string filename);}
\DoxyCodeLine{16     \textcolor{comment}{// Ajout d'un message à la liste}}
\DoxyCodeLine{17     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a7cec798e24d43830ffc8292ff55c67a7}{append}}();}
\DoxyCodeLine{18     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a8cd076e0ad0eae789ce557d72321e5c5}{setWsdl}}(std::string wsdl);}
\DoxyCodeLine{19     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_acf3c33784d0a4ca7624202648eb54f8b}{setHost}}(std::string host);}
\DoxyCodeLine{20     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a4170754ddb54d8dca872cf3379160d7f}{setAction}}(std::string* action);}
\DoxyCodeLine{21     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a5b9a47755df37482807e201721857722}{setActivityID}}(std::string \textcolor{keywordtype}{id});}
\DoxyCodeLine{22     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a85af4592015e99d4f364108f78a5dc28}{setMessageTime}}(std::string messagetime);}
\DoxyCodeLine{23     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a378f32ea2b1d388fb428280fea248807}{setMessageSource}}(std::string source);}
\DoxyCodeLine{24     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_ae42b2419adf794b9caaecec5fa9b277f}{setCurrentBodyStartPosition}}(\textcolor{keywordtype}{long} position);}
\DoxyCodeLine{25     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   \mbox{\hyperlink{class_messages_a8c0eaa9681f16bd89c5ac451d4bb93ff}{setCurrentBodyEndPosition}}(\textcolor{keywordtype}{long} position);}
\DoxyCodeLine{26     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   setComputerName(std::string name) \{computerName=name;\};}
\DoxyCodeLine{27     \textcolor{keyword}{static} \textcolor{keywordtype}{void}   setLogDate(std::string date)      \{logDate.assign(date,0,10);\};}
\DoxyCodeLine{28     \textcolor{comment}{// Recupération des infos d'un message}}
\DoxyCodeLine{29     \textcolor{keyword}{static} \mbox{\hyperlink{struct_messages_1_1_message}{Message}}*    \mbox{\hyperlink{class_messages_a1bb0fef029b88fd190f72f821ad88f93}{getMessage}}(std::string number);}
\DoxyCodeLine{30     \textcolor{keyword}{static} \mbox{\hyperlink{struct_messages_1_1_message}{Message}}*    \mbox{\hyperlink{class_messages_a1bb0fef029b88fd190f72f821ad88f93}{getMessage}}(\textcolor{keywordtype}{long} number);}
\DoxyCodeLine{31     \textcolor{keyword}{static} \textcolor{keywordtype}{void}        \mbox{\hyperlink{class_messages_a331397e8f595c25cac8d834bd329fbac}{getMessageBody}}(\textcolor{keywordtype}{long} number);}
\DoxyCodeLine{32     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}        \mbox{\hyperlink{class_messages_a7e1b3689dbd849fef9cea4f9d7978c83}{isSession}}();}
\DoxyCodeLine{33     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}        \mbox{\hyperlink{class_messages_aa366a305bd3f20b517f0bee5051a71b0}{isCurrentMessageFaulty}}();}
\DoxyCodeLine{34     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}        \mbox{\hyperlink{class_messages_a95c8d76919b21ea89dea4e2a6796aa65}{isCurrentMessageRequest}}();}
\DoxyCodeLine{35     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}        \mbox{\hyperlink{class_messages_a54c1fb79b62cb60763a86c48910e888d}{isCurrentMessageServiceLevel}}();}
\DoxyCodeLine{36     \textcolor{keyword}{static} std::string \mbox{\hyperlink{class_messages_a8daed800710d989e7ca49dc7234f7cd8}{getCurrentMessageTime}}();}
\DoxyCodeLine{37     \textcolor{keyword}{static} std::string \mbox{\hyperlink{class_messages_ac68de96d8e955b14baf16bea91593b9d}{getCurrentMessageIndex}}();}
\DoxyCodeLine{38     \textcolor{keyword}{static} \textcolor{keywordtype}{int}         \mbox{\hyperlink{class_messages_ae8dda50e67c3688e70122ca10e72c073}{getNextCorrelatedMessageIndex}}(\textcolor{keywordtype}{int} startingIndex, std::string \textcolor{keywordtype}{id}, \textcolor{keywordtype}{int} endingIndex=-\/1);}
\DoxyCodeLine{39     \textcolor{keyword}{static} \textcolor{keywordtype}{int}         \mbox{\hyperlink{class_messages_a574163ba1a9b8d6fb40784228d21c4aa}{getPreviousCorrelatedMessageIndex}}(\textcolor{keywordtype}{int} index, std::string \textcolor{keywordtype}{id});}
\DoxyCodeLine{40     \textcolor{comment}{// informations globales}}
\DoxyCodeLine{41     \textcolor{keyword}{static} std::string getComputerName() \{\textcolor{keywordflow}{return} computerName;\};}
\DoxyCodeLine{42     \textcolor{keyword}{static} std::string getLogDate()      \{\textcolor{keywordflow}{return} logDate;\};}
\DoxyCodeLine{43     \textcolor{comment}{// recherches}}
\DoxyCodeLine{44     \textcolor{keyword}{static} \textcolor{keywordtype}{bool}        \mbox{\hyperlink{class_messages_a26d4c4c2c0f72997f52bd951364245fa}{containsMessageBody}}(\textcolor{keywordtype}{int} index, std::string substring);}
\DoxyCodeLine{45 }
\DoxyCodeLine{46     \textcolor{keyword}{struct }\mbox{\hyperlink{struct_messages_1_1_message}{Message}}}
\DoxyCodeLine{47     \{}
\DoxyCodeLine{48         std::string \mbox{\hyperlink{struct_messages_1_1_message_a80093f739a4603b0f10f223e7656e1ef}{host}};                     }
\DoxyCodeLine{49         std::string \mbox{\hyperlink{struct_messages_1_1_message_a9621d187b646fb37975d7a0d5dcb81b8}{module}};                   }
\DoxyCodeLine{50         std::string \mbox{\hyperlink{struct_messages_1_1_message_a0bd3cd681cc736d36c89fea06a803ac7}{action}};                   }
\DoxyCodeLine{51         std::string \mbox{\hyperlink{struct_messages_1_1_message_a1709088d211103a5d4087fcbe98e460f}{direction}};                }
\DoxyCodeLine{52         std::string \mbox{\hyperlink{struct_messages_1_1_message_a9f20ea91968683f11d023ce86b22c7f4}{activityId}};               }
\DoxyCodeLine{53         std::string \mbox{\hyperlink{struct_messages_1_1_message_a4fd889d3ccc97e2abd99f93e5a98189e}{messageTime}};              }
\DoxyCodeLine{54         std::string \mbox{\hyperlink{struct_messages_1_1_message_a152166d0b5b659d2c83d0ea52aa200e4}{wsdl}};                     }
\DoxyCodeLine{55         \textcolor{keywordtype}{char}*       \mbox{\hyperlink{struct_messages_1_1_message_a5850875aca378d32d5fb919709e4cd02}{body}}=\textcolor{keyword}{nullptr};             }
\DoxyCodeLine{56         \textcolor{keywordtype}{long}        \mbox{\hyperlink{struct_messages_1_1_message_ad380239cde093f003a39de9ecf39a05a}{bodyStartPosition}}=NULL;   }
\DoxyCodeLine{57         \textcolor{keywordtype}{long}        \mbox{\hyperlink{struct_messages_1_1_message_a49cb9964faabd11e60073951dabbea31}{bodyEndPosition}}=NULL;     }
\DoxyCodeLine{58         \textcolor{keywordtype}{bool}        \mbox{\hyperlink{struct_messages_1_1_message_a7c0812a203be3dabff1056dcc6154670}{isRequest}}=\textcolor{keyword}{false};          }
\DoxyCodeLine{59         \textcolor{keywordtype}{bool}        \mbox{\hyperlink{struct_messages_1_1_message_a8c51e9fd449af203146f14c5e97ebeb9}{isServiceLevel}}=\textcolor{keyword}{false};     }
\DoxyCodeLine{60     \};}
\DoxyCodeLine{61 }
\DoxyCodeLine{62 \textcolor{keyword}{private}:}
\DoxyCodeLine{63     \textcolor{keyword}{static} std::string computerName;}
\DoxyCodeLine{64     \textcolor{keyword}{static} std::string logDate;}
\DoxyCodeLine{65     \textcolor{keyword}{static} std::string fileName;}
\DoxyCodeLine{66 }
\DoxyCodeLine{67 \};}
\DoxyCodeLine{68 }
\DoxyCodeLine{69 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// MESSAGES\_H}}
\DoxyCodeLine{70 }
\DoxyCodeLine{71 }
\DoxyCodeLine{72 \textcolor{comment}{/* *********************************************************************************}}
\DoxyCodeLine{73 \textcolor{comment}{ *}}
\DoxyCodeLine{74 \textcolor{comment}{ * (RR: Balise présente dans Request+Response)}}
\DoxyCodeLine{75 \textcolor{comment}{ * (**: les balises utilisées)}}
\DoxyCodeLine{76 \textcolor{comment}{ *}}
\DoxyCodeLine{77 \textcolor{comment}{ * Pour les messages de type REQUEST, on a des informations dans les balises:}}
\DoxyCodeLine{78 \textcolor{comment}{ *}}
\DoxyCodeLine{79 \textcolor{comment}{ * <System> contient:}}
\DoxyCodeLine{80 \textcolor{comment}{ * RR     <TimeCreated SystemTime="{}2020-\/06-\/22T14:31:17.9755137Z"{} />}}
\DoxyCodeLine{81 \textcolor{comment}{ * RR **  <Correlation ActivityID="{}\{dee19e7b-\/5fba-\/4adc-\/8197-\/2aee3c2e6557\}"{} />}}
\DoxyCodeLine{82 \textcolor{comment}{ * RR     <Computer> 00XDSVMAM03200 </Computer>}}
\DoxyCodeLine{83 \textcolor{comment}{ * <HttpRequest> contient:}}
\DoxyCodeLine{84 \textcolor{comment}{ * R-\/ **  <Host>172.18.146.32</Host>}}
\DoxyCodeLine{85 \textcolor{comment}{ * <MessageLogTraceRecord> contient:}}
\DoxyCodeLine{86 \textcolor{comment}{ * RR **  <MessageLogTraceRecord Time="{}2020-\/06-\/22T14:31:17.9755137+00:00"{} >}}
\DoxyCodeLine{87 \textcolor{comment}{ * RR **  <MessageLogTraceRecord Source="{}TransportReceive"{} >}}
\DoxyCodeLine{88 \textcolor{comment}{ * R-\/ **  <To> http://00xdsvmam03200.paris.tv5monde.org/VEDA.SOA/Session.svc?wsdl </To>}}
\DoxyCodeLine{89 \textcolor{comment}{ * RR **  <Action> http://www.sgt.eu/VEDA.SOA/Session.v1/Session/OpenOrReuse </Action>}}
\DoxyCodeLine{90 \textcolor{comment}{ * <Non utilisé>:}}
\DoxyCodeLine{91 \textcolor{comment}{ * R-\/     <SOAPAction> "{}http://www.sgt.eu/VEDA.SOA/Session.v1/Session/OpenOrReuse"{} </SOAPAction>}}
\DoxyCodeLine{92 \textcolor{comment}{ *}}
\DoxyCodeLine{93 \textcolor{comment}{ * Pour les messages de type RESPONSE:}}
\DoxyCodeLine{94 \textcolor{comment}{ *}}
\DoxyCodeLine{95 \textcolor{comment}{ * <System> contient:}}
\DoxyCodeLine{96 \textcolor{comment}{ * RR     <TimeCreated SystemTime="{}2020-\/06-\/22T14:31:17.9755137Z"{} />}}
\DoxyCodeLine{97 \textcolor{comment}{ * RR **  <Correlation ActivityID="{}\{dee19e7b-\/5fba-\/4adc-\/8197-\/2aee3c2e6557\}"{} />}}
\DoxyCodeLine{98 \textcolor{comment}{ * RR     <Computer> 00XDSVMAM03200 </Computer>}}
\DoxyCodeLine{99 \textcolor{comment}{ * <MessageLogTraceRecord> contient:}}
\DoxyCodeLine{100 \textcolor{comment}{ * RR **  <MessageLogTraceRecord Time="{}2020-\/06-\/22T14:31:17.9755137+00:00"{}>}}
\DoxyCodeLine{101 \textcolor{comment}{ * RR **  <MessageLogTraceRecord Source="{}TransportSend"{} >}}
\DoxyCodeLine{102 \textcolor{comment}{ * RR **  <Action> http://www.sgt.eu/VEDA.SOA/Session.v1/Session/OpenOrReuseResponse </Action>}}
\DoxyCodeLine{103 \textcolor{comment}{ * <Non utilisé>:}}
\DoxyCodeLine{104 \textcolor{comment}{ * -\/R     <ActivityId> dee19e7b-\/5fba-\/4adc-\/8197-\/2aee3c2e6557 </ActivityId>}}
\DoxyCodeLine{105 \textcolor{comment}{ *}}
\DoxyCodeLine{106 \textcolor{comment}{ * *************************************************************************************** */}}

\end{DoxyCode}
